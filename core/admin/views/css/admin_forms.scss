/* Forms */
form:not(.bypass) {

  fieldset { margin: 10px 0 20px 0; border: 0; }

  h3.legend {
    @include border-radius(4px); 
    @include gradient($slate-blue, saturate($slate-blue * 0.9, 10%));
    @include shadow(0 1px 0 $shadow20, 0 0 1px $shadow40, inset 0 1px 0 $hilite20);
    text-align: center;
    padding: 5px 10px; margin: 10px 0;
    font-size: 1.2em; color: $grey;
    text-shadow: 1px 1px 0 $hilite40;
  }

  p.description {
    color: $grey; text-shadow: 1px 1px 0 $hilite20; padding: 10px 10px;
  }

  p { margin: 10px 0; }
  p:first-child { margin-top: 0; }
  p:last-child { margin-bottom: 0; border-bottom: 0; }
  label { display: block; font-weight: bold; line-height: 24px; color: #777; }

  textarea, input { @include input; @include box-sizing(border-box); width: 100%; }
  textarea { height: 220px; }
  p.long textarea { height: 300px; }

  /* "Hola! You are:" */
  h2.greeting {
    font-size: 13pt; text-align: center;
    color: $slate; text-shadow: 1px 1px 0 $hilite20; 
    margin: 0;
  }

  p.submit {
    @extend .message;
    height: 35px; line-height: 35px; padding: 5px 15px 5px 10px;
    margin: 20px 0;
    & { text-align: left; @include clearfix; }
    button { @include button; @include button-black; }
    .right { float: right; }
  }

  p.center {
    input, label { text-align: center; }
  }

  /* Title fields */
  p.title {
    label { display: none; }
    input { font-size: 14pt; height: 45px; }
  }

  /* Compact fields: like slug, password, etc */
  p.compact {
    @include input;
    @include clearfix;

    height: auto;
    min-height: $input-height + 2px;
    background: $hilite10;
    padding: 0; width: 100%;

    label {
      float: left; width: 30%;
      @include box-sizing(border-box);
      padding: 0 10px; overflow: hidden;
      line-height: $input-height;
    }

    input, textarea {
      &, &:hover, &:focus {
        @include shadow(0); border: 0;
        border-left: solid 1px #ddd;
      }
      float: left; width: 70%;
    }

    &.focus {
      @include input-focus; background: #f6f6f6;
      label {
        text-shadow: 1px 1px 0 $hilite50;
        background: fade-out($blue, 0.9); color: $blue * 0.7;
      }
    }
  }
}

//
// Wysiwyg
//

p.html textarea {
  // Pseudo-hide it so that the 'flash of unstyled textareas' dont look so bad.
  // font-size: 0.1px; color: #eee;
}

div.wysiwyg {
  @include input-base;
  background: white;
  padding: 0;
  overflow: hidden;
  width: 100% !important;

  ul.panel {
    height: 20px; overflow: hidden;
    background: white;
    padding: 5px 4px 4px 4px;
    border-bottom: solid 1px #eee;
    @include gradient(#f7f7f7, #fdfdfd);

    li { background: transparent; padding: 0 1px; }
    li a { padding: 0; opacity: 0.6; border: solid 1px transparent; }
    li a:hover { opacity: 1; }
    li a:focus { outline: 0; }
  }

  iframe { margin: 0; width: 100% !important; }

  &:focus, &.focus { @include input-focus; }
}
